# Журнал изменений (Changelog) — Проект «Коллектив Автоматов»

Этот документ фиксирует эволюцию модели от базового автомата (v1.0) до текущей высокопроизводительной системы (v4.9).

---

## [v1.0] — Базовая модель
*Основание проекта.*
- Создана концепция агента как дискретного автомата.
- Введено 7 независимых осей эмоций (Радость-Печаль и др.) в диапазоне [-3, 3].
- Определены 4 реляционные функции: **Utility (U)**, **Affinity (A)**, **Trust (T)**, **Responsiveness (R)** в диапазоне [-10, 10].
- Логика взаимодействия: направленный дискретный акт.

## [v2.0 — v2.2] — Тонкая настройка динамики
*Переход к непрерывности и стабильности.*
- **Continuous Values**: Все параметры переведены из `int` в `float` для плавности переходов.
- **Закон Прощения (Relation Decay)**: Отношения стремятся к нулю при отсутствии контактов.
- **Эмоциональная Энтропия**: Эмоции затухают со временем.
- **Демпфирование (α=0.1)**: Исправлена «эмоциональная инфляция» — фоновое влияние отношений теперь не перегружает психику агента.
- **Симметрия**: Взаимодействия стали взаимными (обновляются оба участника).

## [v3.0 — v3.5] — Пространственная логика (Университет)
*Выход в пространство.*
- **University Campus**: Внедрена геометрия помещений и расписание.
- **Локации**: Лекции, семинары, коридоры, спортзал.
- **Групповая иерархия**: Агенты разделены на факультеты, потоки и группы.
- **Интерактивность**: Добавлен класс Player для ручного управления процессом.

## [v4.0 — v4.5] — Русификация и калибровка
*Локализация и удобство.*
- **Russian Names**: База данных имен и фамилий для реалистичного наполнения групп.
- **University Manager**: Улучшенное управление расписанием и автоматическая генерация агентов.
- **№ Номера**: Возврат к привычной нумерации аудиторий (№101, №201 и т.д.).

## [v4.6 — v4.7] — Логика Σ (Сигма) и Геометрия
*Математическая строгость взаимодействий.*
- **Sigma Logic**: Взаимодействие теперь имеет 3 исхода: Успех (1), Отказ (0), Провал (-1).
- **Softmax Selection**: Взвешенный случайный выбор цели на основе температуры рациональности (T).
- **Campus Fix**: Исправлена «аномалия коридора» (смещение на y=850), разделяющая зоны учёбы.

## [v4.8] — Высокая производительность и Исследования
*Масштабируемость.*
- **C++ Engine**: Критическая часть расчетов (влияние эмоций N²) вынесена в параллельный код на C++ через pybind11 + OpenMP.
- **Research Constructor**: GUI-инструмент для создания научных сценариев и управления распределением (Гаусс/Uniform).
- **Silent Mode**: Режим «тихого» расчета без GUI для генерации больших массивов данных (CSV).

## [v4.9] — Реляционная Динамика (Текущая)
*Глубина социальных связей.*
- **Softmax Refusal**: Шанс отказа теперь динамически зависит от Отзывчивости (R).
- **Приоритет A, U**: При успехе Симпатия и Полезность растут в 2.5 раза сильнее (приоритет роста).
- **Удар по Trust**: При провале основной урон получает Доверие.
- **R-Recovery**: Внедрена механика ускоренного выхода из «игнора» (если R < 0, рост до нуля усилен).
- **Emission Weights**: C++ движок теперь учитывает индивидуальные веса архетипов при эмоциональном заражении.
- **Fix Synchronicity**: Полная атомарная синхронизация отношений (U, A, T, R) между Python и C++.
- **Smart Build System**: Авто-детекция архитектуры/ОС (macOS Clang/Linux) и автоматический ребилд при смене ядра.
- **Environment Setup**: Создан `install.sh` и `requirements.txt` для автоматического развертывания проекта "в один клик".
- **Headless Optimization**: Стандартизация имен логов (`agent_states.csv`) и ускорение инициализации в тихом режиме.

---
